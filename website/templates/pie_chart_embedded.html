{% extends 'base.html' %} {% block content %}
<div id="container" style="width: 40%">
  <canvas id="pie-chart-embedded"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>

  const config = {
    type: 'pie',
    data: {
        datasets: [{
            data: {{ data|safe }},
            label: 'Pricing'
        }],
        labels: {{ labels|safe }}
    },
    options: {
            responsive: true,
            legend: {
              position: "top",
            },
            title: {
              display: true,
              text: "Pricing Bar Chart",
            },
          }
  };

  window.onload = function () {
      const ctx = document.getElementById('pie-chart-embedded').getContext('2d');
      window.myPie = new Chart(ctx, config);
  };
</script>
{% endblock content %}
